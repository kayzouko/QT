<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Conteur QT</title>
    <link rel="stylesheet" href="style.css">
</head>

<div id="audioModal" class="modal">
    <div class="modal-content">
        <h3>Activation de la voix</h3>
        <p>Pour que QT puisse parler, cliquez sur ce bouton :</p>
        <button id="activateAudio">Activer la voix</button>
    </div>
</div>

<script>
//script d'activation
document.getElementById('activateAudio').addEventListener('click', () => {
    const utterance = new SpeechSynthesisUtterance('');
    window.speechSynthesis.speak(utterance);
    window.speechSynthesis.cancel();
    
    document.getElementById('audioModal').style.display = 'none';
    localStorage.setItem('audioActivated', 'true');
});

//affiche le modal si pas encore activÃ©
if (!localStorage.getItem('audioActivated')) {
    document.getElementById('audioModal').style.display = 'flex';
}
</script>

<body>
    <div class="container">
        <h1>ðŸ¤– QT Conteur Ã‰motif</h1>
        
        <div class="robot-container">
            <img src="emotions/neutre.png" alt="Visage du robot QT" id="robotImage" class="robot-face">
        </div>

        <div class="controls">
            <textarea id="promptInput" placeholder="DÃ©cris ton histoire (ex: un liÃ¨vre qui voyage dans l'espace)..."></textarea>
            <div class="button-container">
                <button id="generateButton">Commencer l'histoire</button>
                <button id="stopButton" class="hidden">ArrÃªter</button>
            </div>
        </div>

        <div class="story-display" id="storyDisplay"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>